Delivered-To: meduardo.r@gmail.com
Received: by 2002:a5d:5604:0:0:0:0:0 with SMTP id l4-v6csp2530582wrv;
        Sun, 19 Aug 2018 02:42:09 -0700 (PDT)
X-Received: by 2002:a81:5604:: with SMTP id k4-v6mr21854746ywb.282.1534671729501;
        Sun, 19 Aug 2018 02:42:09 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; t=1534671729; cv=none;
        d=google.com; s=arc-20160816;
        b=A6YGne6XBBpGOizfaDm59JglDC91woi0olUhCoX9y5geLZL2l8G613zN5qv4sYDJLw
         wWAZ1LsE/lyHxEwq9F9+ik2gVirWR/LNB/lyRz12+MB+Tys0pXgeMhWcjy/mANoNxnxV
         +1qnR3fHwl4r1YM/KMpyMMLxRLC9oQoN5TAgkRrNg0kokIOEr6NPwfrqUlrU20Cw233s
         eWR2sz1vV0quJ5uCZGam2E9rUMbdNg2G2csE0RTAMRZQ7Ix3M+wZzl1wpLYiu3Z1MjIu
         wR7JmnwiB7d4TrVTlcl5qoRiLTalY0111eKcFoLRg8UV948L5erRHh5WyaScwPxVxt4g
         tfrg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;
        h=list-unsubscribe:list-subscribe:list-archive:list-help:list-post
         :list-id:mailing-list:precedence:reply-to:mime-version:subject
         :references:in-reply-to:message-id:to:from:date:sender
         :dkim-signature:arc-authentication-results;
        bh=iOS6K8VHpiotcQme4+j7g7ANa+nC4bVS6EKnMqy/mRs=;
        b=KlzhfgEpv6VqXbqh0UU2RjJkNirkg16Y2km7yn5bO8BhBRL1d+YGNYvs4AfLHRZu3w
         5PaaTNgDo28eLVnLOyq5ahXsyoawt7bWCX/lY5nBh7y0CNOqZpSixUPsSk1StxdMbpPO
         0kC5dTE8QZfSEVIMah8fSiuoOOiSgnNCmyJUEqijPA/bk9ibCr8qzik68m14Y1X8PN7o
         NYEmkNJEY7Mh9vzHxXZ/tDzPUDzqrM23gGbbMK7RLjd8ma3sG1HIvCUldZMDG7bdHDqI
         3YJYQGctUdTBlazWJdSYrCtwhUelfaZC58ntAX/eOGOBDNjEN3ULLhCh2DApYESCg6Dc
         rtxg==
ARC-Authentication-Results: i=1; mx.google.com;
       dkim=pass header.i=@googlegroups.com header.s=20161025 header.b=g4lsvakW;
       spf=pass (google.com: domain of python-brasil+bncbcuklpupt4obbzxw4tnqkgqedq5oqci@googlegroups.com designates 209.85.220.55 as permitted sender) smtp.mailfrom=python-brasil+bncBCUKLPUPT4OBBZXW4TNQKGQEDQ5OQCI@googlegroups.com;
       dmarc=fail (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
Return-Path: <python-brasil+bncBCUKLPUPT4OBBZXW4TNQKGQEDQ5OQCI@googlegroups.com>
Received: from mail-sor-f55.google.com (mail-sor-f55.google.com. [209.85.220.55])
        by mx.google.com with SMTPS id f187-v6sor1384423ywd.430.2018.08.19.02.42.08
        (Google Transport Security);
        Sun, 19 Aug 2018 02:42:09 -0700 (PDT)
Received-SPF: pass (google.com: domain of python-brasil+bncbcuklpupt4obbzxw4tnqkgqedq5oqci@googlegroups.com designates 209.85.220.55 as permitted sender) client-ip=209.85.220.55;
Authentication-Results: mx.google.com;
       dkim=pass header.i=@googlegroups.com header.s=20161025 header.b=g4lsvakW;
       spf=pass (google.com: domain of python-brasil+bncbcuklpupt4obbzxw4tnqkgqedq5oqci@googlegroups.com designates 209.85.220.55 as permitted sender) smtp.mailfrom=python-brasil+bncBCUKLPUPT4OBBZXW4TNQKGQEDQ5OQCI@googlegroups.com;
       dmarc=fail (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlegroups.com; s=20161025;
        h=sender:date:from:to:message-id:in-reply-to:references:subject
         :mime-version:x-original-sender:reply-to:precedence:mailing-list
         :list-id:list-post:list-help:list-archive:list-subscribe
         :list-unsubscribe;
        bh=iOS6K8VHpiotcQme4+j7g7ANa+nC4bVS6EKnMqy/mRs=;
        b=g4lsvakW3Ou0n5TIeNqoTrs+u+dNHZBtRXkTW6PxDrTSZkWTjl6rh/ykVHeI0qjU4H
         oniRi6n30zaNOQhT8vGIjMuPwcw81zso0sehRIEtb9gqHukyeJ17qTTfcQcxle60x3s7
         1XmAvUEhvBzYCOt0MES1KNlxEAhv4sG3p8sUdLCe6LGSiEF4OBuwI16yG2cY0xvWmJQE
         qTWVp20hwrj8O8dfHKbDVyVnIF9XsfB8iNTZqXkmQswXwh6M3WCxyXtozoUPsV/T+GVx
         QpSNhi9NS4AgAxnqkq7wUzPpbBPGPt0EqM5N/Xeqrlni2dE/rz9p+YEBdXO86OPZ72Uu
         IJdQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20161025;
        h=sender:x-gm-message-state:date:from:to:message-id:in-reply-to
         :references:subject:mime-version:x-original-sender:reply-to
         :precedence:mailing-list:list-id:list-post:list-help:list-archive
         :list-subscribe:list-unsubscribe;
        bh=iOS6K8VHpiotcQme4+j7g7ANa+nC4bVS6EKnMqy/mRs=;
        b=txDMcDrjZmQ+jEnGHCbuMjAaTC4i6ZUb91jJKk0IrMnnrWQ14iSHng6SY1zLnN0qUm
         4DxnV07ukN5QYgGShTg8mfxt7saPmRqAhluCF+Y5QpVRrPctJ7u6gD2Q6phmGHZGIoix
         eyBHWArPaWakVNcrTfLDkR/BKX0D70gW6mkmH2P+p2lp0/VL1XnWdds1EHN+P2FC8+FH
         sD9uGMUWJZIMzLhjmk/wZxeUjPWfTbeQXtZdRi6PhsjcwtfRNSjbpvX2yGVVHenJWmCX
         Ivop9/C81+vk0lwaMpfL60GfRfzUML4oAuqA0NR9FwuK9qjrP+ui0pvHcCZgYEwEvlL3
         mz0A==
Sender: python-brasil@googlegroups.com
X-Gm-Message-State: AOUpUlHyk6I2vyASqDupYvNZwBtVpOy173xXAc9SFvH4S6nawBE8w3Kr
	rnfDf2Y0RTgkHSGhAC8iu1Q=
X-Google-Smtp-Source: AA+uWPy/NwK7RjJqKG4cDkNTb1O2DAHkKSyG/szH8UTZuoACv67ytcLZDsMFSHt0i58mx/kOIyFpTA==
X-Received: by 2002:a81:3807:: with SMTP id f7-v6mr696859ywa.4.1534671728134;
        Sun, 19 Aug 2018 02:42:08 -0700 (PDT)
X-BeenThere: python-brasil@googlegroups.com
Received: by 2002:a81:588a:: with SMTP id m132-v6ls1560369ywb.36.gmail; Sun,
 19 Aug 2018 02:41:58 -0700 (PDT)
X-Received: by 2002:a0d:e0c6:: with SMTP id j189-v6mr12925042ywe.80.1534671718830;
        Sun, 19 Aug 2018 02:41:58 -0700 (PDT)
Received: by 2002:a81:9fcc:0:0:0:0:0 with SMTP id w195-v6msywg;
        Fri, 17 Aug 2018 21:24:14 -0700 (PDT)
X-Received: by 2002:a81:5705:: with SMTP id l5-v6mr668704ywb.6.1534566253604;
        Fri, 17 Aug 2018 21:24:13 -0700 (PDT)
Date: Fri, 17 Aug 2018 21:24:12 -0700 (PDT)
From: Elton Correia <eltonjncorreia@gmail.com>
To: Python Brasil <python-brasil@googlegroups.com>
Message-Id: <5c826644-532e-4fbb-9062-b34434d4f389@googlegroups.com>
In-Reply-To: <e741688d-4006-4cdf-a68e-31069b7fa066@googlegroups.com>
References: <e741688d-4006-4cdf-a68e-31069b7fa066@googlegroups.com>
Subject: [python-brasil] Re: Pyramid com MongoDB
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_533_2084357298.1534566253117"
X-Original-Sender: eltonjncorreia@gmail.com
Reply-To: python-brasil@googlegroups.com
Precedence: list
Mailing-list: list python-brasil@googlegroups.com; contact python-brasil+owners@googlegroups.com
List-ID: <python-brasil.googlegroups.com>
X-Google-Group-Id: 976534909641
List-Post: <https://groups.google.com/group/python-brasil/post>, <mailto:python-brasil@googlegroups.com>
List-Help: <https://groups.google.com/support/>, <mailto:python-brasil+help@googlegroups.com>
List-Archive: <https://groups.google.com/group/python-brasil
List-Subscribe: <https://groups.google.com/group/python-brasil/subscribe>, <mailto:python-brasil+subscribe@googlegroups.com>
List-Unsubscribe: <mailto:googlegroups-manage+976534909641+unsubscribe@googlegroups.com>,
 <https://groups.google.com/group/python-brasil/subscribe>

------=_Part_533_2084357298.1534566253117
Content-Type: multipart/alternative; 
	boundary="----=_Part_534_1765102888.1534566253119"

------=_Part_534_1765102888.1534566253119
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Ol=C3=A1, voc=C3=AA j=C3=A1 tentou colocar a senha de root?

Em sexta-feira, 17 de agosto de 2018 12:16:29 UTC-3, Freeb escreveu:
>
> Boa tarde pessoal, tudo bem ?
>
> Estou implementando Pyramid com MongoDb em um projeto.
> Para tal estou seguindo o seguinte tutorial:
>
>
> https://docs.pylonsproject.org/projects/pyramid-cookbook/en/latest/databa=
se/mongodb.html
>
> Ja estou com virtualenvwrapper funcionando, usei o   " cookiecutter=20
> gh:Pylons/pyramid-cookiecutter-starter --checkout 1.9-branch " para criar=
=20
> meus arquivos, instalei mongodb, pymongo, funciona pelo shell ok, e tamb=
=C3=A9m=20
> conecta ao usar python com mongodb puro, por=C3=A9m, ao tentar usar ele c=
om=20
> pyramid, ao setar esta variavel, da erro:
>
> First add the MongoDB URI to your development.ini file. (Note: user,=20
> password and port are not required.)
>
>
> [app:myapp]# ... other settings ...mongo_uri =3D mongodb://user:password@=
host:port/database
>
>
> Meu mongodb n=C3=A3o tem senha!=20
> Outra coisa =C3=A9 que so estou conseguindo rodar o mongod como root porq=
ue=20
> como usuario normal na=C3=B5 funciona, mas n=C3=A3o sei se isto tem algo =
a ver com o=20
> problema.
>
> Testei diversas combina=C3=A7=C3=B5es, ex:
>
> mongo_uri =3D mongodb://root:@127.0.0.1:27017/teste
> mongo_uri =3D mongodb://meuUsuario:senhaDoMeuUsuario@localhost:/teste
> mongo_uri =3D mongodb://:@host:port/database
>
> etc ....
>
> E sempre recebo este erro aqui:
>
> env1) freeb@debprod:~/Envs/env1/projectTestRepo$ ../bin/pserve developmen=
t.ini
> Traceback (most recent call last):
>   File "../bin/pserve", line 11, in <module>
>     sys.exit(main())
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/pyramid/scripts=
/pserve.py", line 32, in main
>     return command.run()
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/pyramid/scripts=
/pserve.py", line 229, in run
>     app =3D loader.get_wsgi_app(app_name, config_vars)
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/plaster_pastede=
ploy/__init__.py", line 131, in get_wsgi_app
>     global_conf=3Ddefaults)
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/paste/deploy/lo=
adwsgi.py", line 247, in loadapp
>     return loadobj(APP, uri, name=3Dname, **kw)
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/paste/deploy/lo=
adwsgi.py", line 272, in loadobj
>     return context.create()
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/paste/deploy/lo=
adwsgi.py", line 710, in create
>     return self.object_type.invoke(self)
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/paste/deploy/lo=
adwsgi.py", line 146, in invoke
>     return fix_call(context.object, context.global_conf, **context.local_=
conf)
>   File "/home/freeb/Envs/env1/lib/python3.5/site-packages/paste/deploy/ut=
il.py", line 55, in fix_call
>     val =3D callable(*args, **kw)
>   File "/home/freeb/Envs/env1/projectTestRepo/projectTestRepo/__init__.py=
", line 21, in main
>     db_url =3D urlparse(settings['mongo_uri'])=20
> KeyError: 'mongo_uri'
>
>
>
> #################### __init__.py ########################################=
#############
>
> from pyramid.config import Configurator
>
> try:
> # for python 2
> from urlparse import urlparse
> except ImportError:
> # for python 3
> from urllib.parse import urlparse
>
> from gridfs import GridFS
> from pymongo import MongoClient
>
>
> def main(global_config, **settings):
> """ This function returns a Pyramid WSGI application.
> """
> config =3D Configurator(settings=3Dsettings)
> config.include('pyramid_jinja2')
> config.add_static_view('static', 'static', cache_max_age=3D3600)
> db_url =3D urlparse(settings['mongo_uri'])=20
> config.registry.db =3D MongoClient(
> host=3Ddb_url.hostname,
> port=3Ddb_url.port,
> )=20
>
>
> def add_db(request):
> db =3D config.registry.db[db_url.path[1:]]
> if db_url.username and db_url.password:
> db.authenticate(db_url.username, db_url.password)
> return db
>
> def add_fs(request):
> return GridFS(request.db)
> config.add_request_method(add_db, 'db', reify=3DTrue)
> config.add_request_method(add_fs, 'fs', reify=3DTrue)
>
> config.add_route('home', '/')
> config.scan()
> return config.make_wsgi_app()
>
>
>
>
> #################### views.py ###########################################=
##########
>
> from pyramid.view import view_config
>
>
> @view_config(route_name=3D'home', renderer=3D'templates/mytemplate.jinja2=
')
> def my_view(request):
> return {'project': 'projectTest'}
>
> def dashboard(request):
> vendors =3D request.db['vendors'].find()
> return {'vendors':vendors}
>
>
>
>
> #################### development.py #####################################=
################
>
>
> ###
> # app configuration
> #=20
> https://docs.pylonsproject.org/projects/pyramid/en/latest/narr/environmen=
t.html
> ###
>
>
> [app:myapp]
> # ... other settings ...
> mongo_uri =3D mongodb://:@127.0.0.1:27017/
>
>
> [app:main]
> use =3D egg:projectTestRepo
>
> pyramid.reload_templates =3D true
> pyramid.debug_authorization =3D false
> pyramid.debug_notfound =3D false
> pyramid.debug_routematch =3D false
> pyramid.default_locale_name =3D en
> pyramid.includes =3D
> pyramid_debugtoolbar
>
> # By default, the toolbar only appears for clients from IP addresses
> # '127.0.0.1' and '::1'.
> # debugtoolbar.hosts =3D 127.0.0.1 ::1
>
> ###
> # wsgi server configuration
> ###
>
> [server:main]
> use =3D egg:waitress#main
> listen =3D localhost:6543
>
> ###
> # logging configuration
> #=20
> https://docs.pylonsproject.org/projects/pyramid/en/latest/narr/logging.ht=
ml
> ###
>
> [loggers]
> keys =3D root, projectTestRepo
>
> [handlers]
> keys =3D console
>
> [formatters]
> keys =3D generic
>
> [logger_root]
> level =3D INFO
> handlers =3D console
>
> [logger_projectTestRepo]
> level =3D DEBUG
> handlers =3D
> qualname =3D projectTestRepo
>
> [handler_console]
> class =3D StreamHandler
> args =3D (sys.stderr,)
> level =3D NOTSET
> formatter =3D generic
>
> [formatter_generic]
> format =3D %(asctime)s %(levelname)-5.5s=20
> [%(name)s:%(lineno)s][%(threadName)s] %(message)s
>
>
>
>
>
> Agrade=C3=A7o qualquer ajuda pessoal,=20
>
>
> obrigado
>
> Freeb
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>

--=20
--=20
------------------------------------
Grupo Python-Brasil
https://wiki.python.org.br/AntesDePerguntar

<*> Para visitar o site do grupo na web, acesse:
    http://groups.google.com/group/python-brasil

<*> Para sair deste grupo, envie um e-mail para:
    python-brasil+unsubscribe@googlegroups.com
---=20
Voc=C3=AA est=C3=A1 recebendo esta mensagem porque se inscreveu no grupo "P=
ython Brasil" dos Grupos do Google.
Para cancelar inscri=C3=A7=C3=A3o nesse grupo e parar de receber e-mails de=
le, envie um e-mail para python-brasil+unsubscribe@googlegroups.com.
Para postar neste grupo, envie um e-mail para python-brasil@googlegroups.co=
m.
Para ver esta discuss=C3=A3o na web, acesse https://groups.google.com/d/msg=
id/python-brasil/5c826644-532e-4fbb-9062-b34434d4f389%40googlegroups.com.
Para obter mais op=C3=A7=C3=B5es, acesse https://groups.google.com/d/optout=
.

------=_Part_534_1765102888.1534566253119
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Ol=C3=A1, voc=C3=AA j=C3=A1 tentou colocar a senha de root=
?<br><br>Em sexta-feira, 17 de agosto de 2018 12:16:29 UTC-3, Freeb  escrev=
eu:<blockquote class=3D"gmail_quote" style=3D"margin: 0;margin-left: 0.8ex;=
border-left: 1px #ccc solid;padding-left: 1ex;"><div dir=3D"ltr">Boa tarde =
pessoal, tudo bem ?<br><br>Estou implementando Pyramid com MongoDb em um pr=
ojeto.<br>Para tal estou seguindo o seguinte tutorial:<br><br><a href=3D"ht=
tps://docs.pylonsproject.org/projects/pyramid-cookbook/en/latest/database/m=
ongodb.html" target=3D"_blank" rel=3D"nofollow" onmousedown=3D"this.href=3D=
&#39;https://www.google.com/url?q\x3dhttps%3A%2F%2Fdocs.pylonsproject.org%2=
Fprojects%2Fpyramid-cookbook%2Fen%2Flatest%2Fdatabase%2Fmongodb.html\x26sa\=
x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNEJ7R9IlQ7BV4hXXTJ-ROjd9Hp2qg&#39;;return =
true;" onclick=3D"this.href=3D&#39;https://www.google.com/url?q\x3dhttps%3A=
%2F%2Fdocs.pylonsproject.org%2Fprojects%2Fpyramid-cookbook%2Fen%2Flatest%2F=
database%2Fmongodb.html\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNEJ7R9IlQ7BV=
4hXXTJ-ROjd9Hp2qg&#39;;return true;">https://docs.pylonsproject.<wbr>org/pr=
ojects/pyramid-cookbook/<wbr>en/latest/database/mongodb.<wbr>html</a><br><b=
r>Ja estou com virtualenvwrapper funcionando, usei o =C2=A0 &quot; cookiecu=
tter gh:Pylons/pyramid-<wbr>cookiecutter-starter --checkout 1.9-branch &quo=
t; para criar meus arquivos, instalei mongodb, pymongo, funciona pelo shell=
 ok, e tamb=C3=A9m conecta ao usar python com mongodb puro, por=C3=A9m, ao =
tentar usar ele com pyramid, ao setar esta variavel, da erro:<br><br><p>Fir=
st add the MongoDB URI to your <code><span>development.ini</span></code> fi=
le. (Note: <code><span>user</span></code>, <code><span>password</span></cod=
e> and <code><span>port</span></code> are not required.)</p>
<table><tbody><tr><td><div><pre></pre></div></td><td><div><pre><br><span></=
span><span>[app:myapp]</span>
<span># ... other settings ...</span>
<span>mongo_uri</span> <span>=3D</span> <span>mongodb://user:password@host:=
<wbr>port/database</span>
</pre></div></td></tr></tbody></table><br>Meu mongodb n=C3=A3o tem senha! <=
br>Outra coisa =C3=A9 que so estou conseguindo rodar o mongod como root por=
que como usuario normal na=C3=B5 funciona, mas n=C3=A3o sei se isto tem alg=
o a ver com o problema.<br><br>Testei diversas combina=C3=A7=C3=B5es, ex:<b=
r><br><pre><span>mongo_uri</span> <span>=3D</span> <span>mongodb://<a href=
=3D"http://root:@127.0.0.1:27017/teste" target=3D"_blank" rel=3D"nofollow" =
onmousedown=3D"this.href=3D&#39;http://www.google.com/url?q\x3dhttp%3A%2F%2=
Froot%3A%40127.0.0.1%3A27017%2Fteste\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQj=
CNHbzOUT415si6BcLuz_JdTGsPWSSQ&#39;;return true;" onclick=3D"this.href=3D&#=
39;http://www.google.com/url?q\x3dhttp%3A%2F%2Froot%3A%40127.0.0.1%3A27017%=
2Fteste\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNHbzOUT415si6BcLuz_JdTGsPWSS=
Q&#39;;return true;">root:@127.0.0.1:<wbr>27017/teste</a><br></span><span>m=
ongo_uri</span> <span>=3D</span> <span>mongodb://meuUsuario:<wbr>senhaDoMeu=
Usuario@localhost:/<wbr>teste<br></span><span>mongo_uri</span> <span>=3D</s=
pan> <span>mongodb://:@host:port/database<br></span><br><span></span><span>=
</span><span></span>etc ....<br><br>E sempre recebo este erro aqui:<br><br>=
env1) freeb@debprod:~/Envs/env1/<wbr>projectTestRepo$ ../bin/pserve develop=
ment.ini<br>Traceback (most recent call last):<br>  File &quot;../bin/pserv=
e&quot;, line 11, in &lt;module&gt;<br>    sys.exit(main())<br>  File &quot=
;/home/freeb/Envs/env1/lib/<wbr>python3.5/site-packages/<wbr>pyramid/script=
s/pserve.py&quot;, line 32, in main<br>    return command.run()<br>  File &=
quot;/home/freeb/Envs/env1/lib/<wbr>python3.5/site-packages/<wbr>pyramid/sc=
ripts/pserve.py&quot;, line 229, in run<br>    app =3D loader.get_wsgi_app(=
app_name, config_vars)<br>  File &quot;/home/freeb/Envs/env1/lib/<wbr>pytho=
n3.5/site-packages/<wbr>plaster_pastedeploy/__init__.<wbr>py&quot;, line 13=
1, in get_wsgi_app<br>    global_conf=3Ddefaults)<br>  File &quot;/home/fre=
eb/Envs/env1/lib/<wbr>python3.5/site-packages/paste/<wbr>deploy/loadwsgi.py=
&quot;, line 247, in loadapp<br>    return loadobj(APP, uri, name=3Dname, *=
*kw)<br>  File &quot;/home/freeb/Envs/env1/lib/<wbr>python3.5/site-packages=
/paste/<wbr>deploy/loadwsgi.py&quot;, line 272, in loadobj<br>    return co=
ntext.create()<br>  File &quot;/home/freeb/Envs/env1/lib/<wbr>python3.5/sit=
e-packages/paste/<wbr>deploy/loadwsgi.py&quot;, line 710, in create<br>    =
return self.object_type.invoke(self)<br>  File &quot;/home/freeb/Envs/env1/=
lib/<wbr>python3.5/site-packages/paste/<wbr>deploy/loadwsgi.py&quot;, line =
146, in invoke<br>    return fix_call(context.object, context.global_conf, =
**context.local_conf)<br>  File &quot;/home/freeb/Envs/env1/lib/<wbr>python=
3.5/site-packages/paste/<wbr>deploy/util.py&quot;, line 55, in fix_call<br>=
    val =3D callable(*args, **kw)<br>  File &quot;/home/freeb/Envs/env1/<wb=
r>projectTestRepo/<wbr>projectTestRepo/__init__.py&quot;, line 21, in main<=
br>    db_url =3D urlparse(settings[&#39;mongo_uri&#39;]<wbr>) <br>KeyError=
: &#39;mongo_uri&#39;<br><br><br><br>#################### __init__.py #####=
#########################<wbr>#######################<br><br></pre><div sty=
le=3D"color:#000000;background-color:#ffffff;font-family:&#39;Droid Sans Mo=
no&#39;,&#39;monospace&#39;,monospace,&#39;Droid Sans Fallback&#39;;font-we=
ight:normal;font-size:14px;line-height:19px;white-space:pre"><div><span sty=
le=3D"color:#0000ff">from</span><span style=3D"color:#000000"> pyramid.conf=
ig </span><span style=3D"color:#0000ff">import</span><span style=3D"color:#=
000000"> Configurator</span></div><br><div><span style=3D"color:#0000ff">tr=
y</span><span style=3D"color:#000000">:</span></div><div><span style=3D"col=
or:#000000">    </span><span style=3D"color:#008000"># for python 2</span><=
/div><div><span style=3D"color:#000000">    </span><span style=3D"color:#00=
00ff">from</span><span style=3D"color:#000000"> urlparse </span><span style=
=3D"color:#0000ff">import</span><span style=3D"color:#000000"> urlparse</sp=
an></div><div><span style=3D"color:#0000ff">except</span><span style=3D"col=
or:#000000"> ImportError:</span></div><div><span style=3D"color:#000000">  =
  </span><span style=3D"color:#008000"># for python 3</span></div><div><spa=
n style=3D"color:#000000">    </span><span style=3D"color:#0000ff">from</sp=
an><span style=3D"color:#000000"> urllib.parse </span><span style=3D"color:=
#0000ff">import</span><span style=3D"color:#000000"> urlparse</span></div><=
br><div><span style=3D"color:#0000ff">from</span><span style=3D"color:#0000=
00"> gridfs </span><span style=3D"color:#0000ff">import</span><span style=
=3D"color:#000000"> GridFS</span></div><div><span style=3D"color:#0000ff">f=
rom</span><span style=3D"color:#000000"> pymongo </span><span style=3D"colo=
r:#0000ff">import</span><span style=3D"color:#000000"> MongoClient</span></=
div><br><br><div><span style=3D"color:#0000ff">def</span><span style=3D"col=
or:#000000"> main(global_config, **settings):</span></div><div><span style=
=3D"color:#000000">    </span><span style=3D"color:#a31515">&quot;&quot;&qu=
ot; This function returns a Pyramid WSGI application.</span></div><div><spa=
n style=3D"color:#a31515">    &quot;&quot;&quot;</span></div><div><span sty=
le=3D"color:#000000">    config </span><span style=3D"color:#000000">=3D</s=
pan><span style=3D"color:#000000"> Configurator(settings</span><span style=
=3D"color:#000000">=3D</span><span style=3D"color:#000000">settings<wbr>)</=
span></div><div><span style=3D"color:#000000">    config.include(</span><sp=
an style=3D"color:#a31515">&#39;pyramid_<wbr>jinja2&#39;</span><span style=
=3D"color:#000000">)</span></div><div><span style=3D"color:#000000">    con=
fig.add_static_view(</span><span style=3D"color:#a31515">&#39;<wbr>static&#=
39;</span><span style=3D"color:#000000">, </span><span style=3D"color:#a315=
15">&#39;static&#39;</span><span style=3D"color:#000000">, cache_max_age</s=
pan><span style=3D"color:#000000">=3D</span><span style=3D"color:#09885a">3=
600</span><span style=3D"color:#000000">)</span></div><div><span style=3D"c=
olor:#000000">    </span></div><div><span style=3D"color:#000000">    db_ur=
l </span><span style=3D"color:#000000">=3D</span><span style=3D"color:#0000=
00"> urlparse(settings[</span><span style=3D"color:#a31515">&#39;mongo_uri&=
#39;</span><span style=3D"color:#000000">]<wbr>) </span></div><div><span st=
yle=3D"color:#000000">    config.registry.db </span><span style=3D"color:#0=
00000">=3D</span><span style=3D"color:#000000"> MongoClient(</span></div><d=
iv><span style=3D"color:#000000">        host</span><span style=3D"color:#0=
00000">=3D</span><span style=3D"color:#000000">db_url.hostname,</span></div=
><div><span style=3D"color:#000000">        port</span><span style=3D"color=
:#000000">=3D</span><span style=3D"color:#000000">db_url.port,</span></div>=
<div><span style=3D"color:#000000">    )    </span></div><br><br><div><span=
 style=3D"color:#000000">    </span><span style=3D"color:#0000ff">def</span=
><span style=3D"color:#000000"> add_db(request):</span></div><div><span sty=
le=3D"color:#000000">        db </span><span style=3D"color:#000000">=3D</s=
pan><span style=3D"color:#000000"> config.registry.db[db_url.<wbr>path[</sp=
an><span style=3D"color:#09885a">1</span><span style=3D"color:#000000">:]]<=
/span></div><div><span style=3D"color:#000000">        </span><span style=
=3D"color:#0000ff">if</span><span style=3D"color:#000000"> db_url.username =
</span><span style=3D"color:#0000ff">and</span><span style=3D"color:#000000=
"> db_url.password:</span></div><div><span style=3D"color:#000000">        =
    db.authenticate(db_url.<wbr>username, db_url.password)</span></div><div=
><span style=3D"color:#000000">        </span><span style=3D"color:#0000ff"=
>return</span><span style=3D"color:#000000"> db</span></div><br><div><span =
style=3D"color:#000000">    </span><span style=3D"color:#0000ff">def</span>=
<span style=3D"color:#000000"> add_fs(request):</span></div><div><span styl=
e=3D"color:#000000">        </span><span style=3D"color:#0000ff">return</sp=
an><span style=3D"color:#000000"> GridFS(request.db)</span></div><div><span=
 style=3D"color:#000000">   </span></div><div><span style=3D"color:#000000"=
>   </span></div><div><span style=3D"color:#000000">    config.add_request_=
method(add_<wbr>db, </span><span style=3D"color:#a31515">&#39;db&#39;</span=
><span style=3D"color:#000000">, reify</span><span style=3D"color:#000000">=
=3D</span><span style=3D"color:#0000ff">True</span><span style=3D"color:#00=
0000">)</span></div><div><span style=3D"color:#000000">    config.add_reque=
st_method(add_<wbr>fs, </span><span style=3D"color:#a31515">&#39;fs&#39;</s=
pan><span style=3D"color:#000000">, reify</span><span style=3D"color:#00000=
0">=3D</span><span style=3D"color:#0000ff">True</span><span style=3D"color:=
#000000">)</span></div><br><div><span style=3D"color:#000000">    config.ad=
d_route(</span><span style=3D"color:#a31515">&#39;home&#39;</span><span sty=
le=3D"color:#000000">, </span><span style=3D"color:#a31515">&#39;/&#39;</sp=
an><span style=3D"color:#000000">)</span></div><div><span style=3D"color:#0=
00000">    config.scan()</span></div><div><span style=3D"color:#000000">   =
 </span><span style=3D"color:#0000ff">return</span><span style=3D"color:#00=
0000"> config.make_wsgi_app()</span></div><br></div><pre><br><br><br>######=
############## views.py ##############################<wbr>################=
#######<br><br></pre><div style=3D"color:#000000;background-color:#ffffff;f=
ont-family:&#39;Droid Sans Mono&#39;,&#39;monospace&#39;,monospace,&#39;Dro=
id Sans Fallback&#39;;font-weight:normal;font-size:14px;line-height:19px;wh=
ite-space:pre"><div><span style=3D"color:#0000ff">from</span><span style=3D=
"color:#000000"> pyramid.view </span><span style=3D"color:#0000ff">import</=
span><span style=3D"color:#000000"> view_config</span></div><br><br><div><s=
pan style=3D"color:#000000">@view_config(route_name</span><span style=3D"co=
lor:#000000">=3D</span><span style=3D"color:#a31515">&#39;home&#39;</span><=
span style=3D"color:#000000"><wbr>, renderer</span><span style=3D"color:#00=
0000">=3D</span><span style=3D"color:#a31515">&#39;templates/<wbr>mytemplat=
e.jinja2&#39;</span><span style=3D"color:#000000">)</span></div><div><span =
style=3D"color:#0000ff">def</span><span style=3D"color:#000000"> my_view(re=
quest):</span></div><div><span style=3D"color:#000000">    </span><span sty=
le=3D"color:#0000ff">return</span><span style=3D"color:#000000"> {</span><s=
pan style=3D"color:#a31515">&#39;project&#39;</span><span style=3D"color:#0=
00000">: </span><span style=3D"color:#a31515">&#39;projectTest&#39;</span><=
span style=3D"color:#000000">}</span></div><br><div><span style=3D"color:#0=
000ff">def</span><span style=3D"color:#000000"> dashboard(request):</span><=
/div><div><span style=3D"color:#000000">    vendors </span><span style=3D"c=
olor:#000000">=3D</span><span style=3D"color:#000000"> request.db[</span><s=
pan style=3D"color:#a31515">&#39;vendors&#39;</span><span style=3D"color:#0=
00000">].find()</span></div><div><span style=3D"color:#000000">    </span><=
span style=3D"color:#0000ff">return</span><span style=3D"color:#000000"> {<=
/span><span style=3D"color:#a31515">&#39;vendors&#39;</span><span style=3D"=
color:#000000">:vendors}</span></div><br><br></div><pre><br><br>###########=
######### development.py ##############################<wbr>###############=
########<br><br><br></pre><div style=3D"color:#000000;background-color:#fff=
fff;font-family:&#39;Droid Sans Mono&#39;,&#39;monospace&#39;,monospace,&#3=
9;Droid Sans Fallback&#39;;font-weight:normal;font-size:14px;line-height:19=
px;white-space:pre"><div><span style=3D"color:#008000">###</span></div><div=
><span style=3D"color:#008000"># app configuration</span></div><div><span s=
tyle=3D"color:#008000"># <a href=3D"https://docs.pylonsproject.org/projects=
/pyramid/en/latest/narr/environment.html" target=3D"_blank" rel=3D"nofollow=
" onmousedown=3D"this.href=3D&#39;https://www.google.com/url?q\x3dhttps%3A%=
2F%2Fdocs.pylonsproject.org%2Fprojects%2Fpyramid%2Fen%2Flatest%2Fnarr%2Fenv=
ironment.html\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNHCs-XREgbdvvLWhM57Dho=
l1WTL4Q&#39;;return true;" onclick=3D"this.href=3D&#39;https://www.google.c=
om/url?q\x3dhttps%3A%2F%2Fdocs.pylonsproject.org%2Fprojects%2Fpyramid%2Fen%=
2Flatest%2Fnarr%2Fenvironment.html\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCN=
HCs-XREgbdvvLWhM57Dhol1WTL4Q&#39;;return true;">https://docs.pylonsproject.=
<wbr>org/projects/pyramid/en/<wbr>latest/narr/environment.html</a></span></=
div><div><span style=3D"color:#008000">###</span></div><br><br><div><span s=
tyle=3D"color:#000000">[app:myapp]</span></div><div><span style=3D"color:#0=
08000"># ... other settings ...</span></div><div><span style=3D"color:#0000=
ff">mongo_uri</span><span style=3D"color:#000000"> =3D mongodb://:@<a href=
=3D"http://127.0.0.1:27017/" target=3D"_blank" rel=3D"nofollow" onmousedown=
=3D"this.href=3D&#39;http://www.google.com/url?q\x3dhttp%3A%2F%2F127.0.0.1%=
3A27017%2F\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNHfxzvEq8oAgkX3CFzxonHvJI=
6tAQ&#39;;return true;" onclick=3D"this.href=3D&#39;http://www.google.com/u=
rl?q\x3dhttp%3A%2F%2F127.0.0.1%3A27017%2F\x26sa\x3dD\x26sntz\x3d1\x26usg\x3=
dAFQjCNHfxzvEq8oAgkX3CFzxonHvJI6tAQ&#39;;return true;">127.0.0.1:27017/</a>=
</span></div><br><br><div><span style=3D"color:#000000">[app:main]</span></=
div><div><span style=3D"color:#0000ff">use</span><span style=3D"color:#0000=
00"> =3D egg:projectTestRepo</span></div><br><div><span style=3D"color:#000=
0ff">pyramid.reload_templates</span><span style=3D"color:#000000"> =3D true=
</span></div><div><span style=3D"color:#0000ff">pyramid.debug_authorization=
</span><span style=3D"color:#000000"> =3D false</span></div><div><span styl=
e=3D"color:#0000ff">pyramid.debug_notfound</span><span style=3D"color:#0000=
00"> =3D false</span></div><div><span style=3D"color:#0000ff">pyramid.debug=
_routematch</span><span style=3D"color:#000000"> =3D false</span></div><div=
><span style=3D"color:#0000ff">pyramid.default_locale_name</span><span styl=
e=3D"color:#000000"> =3D en</span></div><div><span style=3D"color:#0000ff">=
pyramid.includes</span><span style=3D"color:#000000"> =3D</span></div><div>=
<span style=3D"color:#000000">    pyramid_debugtoolbar</span></div><br><div=
><span style=3D"color:#008000"># By default, the toolbar only appears for c=
lients from IP addresses</span></div><div><span style=3D"color:#008000"># &=
#39;127.0.0.1&#39; and &#39;::1&#39;.</span></div><div><span style=3D"color=
:#008000"># debugtoolbar.hosts =3D 127.0.0.1 ::1</span></div><br><div><span=
 style=3D"color:#008000">###</span></div><div><span style=3D"color:#008000"=
># wsgi server configuration</span></div><div><span style=3D"color:#008000"=
>###</span></div><br><div><span style=3D"color:#000000">[server:main]</span=
></div><div><span style=3D"color:#0000ff">use</span><span style=3D"color:#0=
00000"> =3D egg:waitress</span><span style=3D"color:#008000">#main</span></=
div><div><span style=3D"color:#0000ff">listen</span><span style=3D"color:#0=
00000"> =3D localhost:6543</span></div><br><div><span style=3D"color:#00800=
0">###</span></div><div><span style=3D"color:#008000"># logging configurati=
on</span></div><div><span style=3D"color:#008000"># <a href=3D"https://docs=
.pylonsproject.org/projects/pyramid/en/latest/narr/logging.html" target=3D"=
_blank" rel=3D"nofollow" onmousedown=3D"this.href=3D&#39;https://www.google=
.com/url?q\x3dhttps%3A%2F%2Fdocs.pylonsproject.org%2Fprojects%2Fpyramid%2Fe=
n%2Flatest%2Fnarr%2Flogging.html\x26sa\x3dD\x26sntz\x3d1\x26usg\x3dAFQjCNGH=
dvWtlkPB_THaaOnsBINQxokW0g&#39;;return true;" onclick=3D"this.href=3D&#39;h=
ttps://www.google.com/url?q\x3dhttps%3A%2F%2Fdocs.pylonsproject.org%2Fproje=
cts%2Fpyramid%2Fen%2Flatest%2Fnarr%2Flogging.html\x26sa\x3dD\x26sntz\x3d1\x=
26usg\x3dAFQjCNGHdvWtlkPB_THaaOnsBINQxokW0g&#39;;return true;">https://docs=
.pylonsproject.<wbr>org/projects/pyramid/en/<wbr>latest/narr/logging.html</=
a></span></div><div><span style=3D"color:#008000">###</span></div><br><div>=
<span style=3D"color:#000000">[loggers]</span></div><div><span style=3D"col=
or:#0000ff">keys</span><span style=3D"color:#000000"> =3D root, projectTest=
Repo</span></div><br><div><span style=3D"color:#000000">[handlers]</span></=
div><div><span style=3D"color:#0000ff">keys</span><span style=3D"color:#000=
000"> =3D console</span></div><br><div><span style=3D"color:#000000">[forma=
tters]</span></div><div><span style=3D"color:#0000ff">keys</span><span styl=
e=3D"color:#000000"> =3D generic</span></div><br><div><span style=3D"color:=
#000000">[logger_root]</span></div><div><span style=3D"color:#0000ff">level=
</span><span style=3D"color:#000000"> =3D INFO</span></div><div><span style=
=3D"color:#0000ff">handlers</span><span style=3D"color:#000000"> =3D consol=
e</span></div><br><div><span style=3D"color:#000000">[logger_projectTestRep=
o]</span></div><div><span style=3D"color:#0000ff">level</span><span style=
=3D"color:#000000"> =3D DEBUG</span></div><div><span style=3D"color:#0000ff=
">handlers</span><span style=3D"color:#000000"> =3D</span></div><div><span =
style=3D"color:#0000ff">qualname</span><span style=3D"color:#000000"> =3D p=
rojectTestRepo</span></div><br><div><span style=3D"color:#000000">[handler_=
console]</span></div><div><span style=3D"color:#0000ff">class</span><span s=
tyle=3D"color:#000000"> =3D StreamHandler</span></div><div><span style=3D"c=
olor:#0000ff">args</span><span style=3D"color:#000000"> =3D (sys.stderr,)</=
span></div><div><span style=3D"color:#0000ff">level</span><span style=3D"co=
lor:#000000"> =3D NOTSET</span></div><div><span style=3D"color:#0000ff">for=
matter</span><span style=3D"color:#000000"> =3D generic</span></div><br><di=
v><span style=3D"color:#000000">[formatter_generic]</span></div><div><span =
style=3D"color:#0000ff">format</span><span style=3D"color:#000000"> =3D %(a=
sctime)s %(levelname)-5.5s [%(name)s:%(lineno)s][%(<wbr>threadName)s] %(mes=
sage)s</span></div><br><br><br><br><br>Agrade=C3=A7o qualquer ajuda pessoal=
, <br><br><br>obrigado<br><br>Freeb<br></div><pre><br><br><br><br><br><br><=
br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>=
</pre></div></blockquote></div>

<p></p>

-- <br />
-- <br />
------------------------------------<br />
Grupo Python-Brasil<br />
<a href=3D"https://wiki.python.org.br/AntesDePerguntar">https://wiki.python=
.org.br/AntesDePerguntar</a><br />
&nbsp;<br />
&lt;*&gt; Para visitar o site do grupo na web, acesse:<br />
    <a href=3D"http://groups.google.com/group/python-brasil">http://groups.=
google.com/group/python-brasil</a><br />
&nbsp;<br />
&lt;*&gt; Para sair deste grupo, envie um e-mail para:<br />
    python-brasil+unsubscribe@googlegroups.com<br />
--- <br />
Voc=C3=AA recebeu essa mensagem porque est=C3=A1 inscrito no grupo &quot;Py=
thon Brasil&quot; dos Grupos do Google.<br />
Para cancelar inscri=C3=A7=C3=A3o nesse grupo e parar de receber e-mails de=
le, envie um e-mail para <a href=3D"mailto:python-brasil+unsubscribe@google=
groups.com">python-brasil+unsubscribe@googlegroups.com</a>.<br />
Para postar nesse grupo, envie um e-mail para <a href=3D"mailto:python-bras=
il@googlegroups.com">python-brasil@googlegroups.com</a>.<br />
Para ver essa discuss=C3=A3o na Web, acesse <a href=3D"https://groups.googl=
e.com/d/msgid/python-brasil/5c826644-532e-4fbb-9062-b34434d4f389%40googlegr=
oups.com?utm_medium=3Demail&utm_source=3Dfooter">https://groups.google.com/=
d/msgid/python-brasil/5c826644-532e-4fbb-9062-b34434d4f389%40googlegroups.c=
om</a>.<br />
Para mais op=C3=A7=C3=B5es, acesse <a href=3D"https://groups.google.com/d/o=
ptout">https://groups.google.com/d/optout</a>.<br />

------=_Part_534_1765102888.1534566253119--

------=_Part_533_2084357298.1534566253117--
